<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

  <!-- ===== FALLBACK RESOURCES - يمنع أخطاء "Cannot find resource" ===== -->
  
  <!-- ===== COLORS & BRUSHES ===== -->
  <Color x:Key="PrimaryColor">#FF2196F3</Color>
  <Color x:Key="SecondaryColor">#FFF5F5F5</Color>
  <Color x:Key="SurfaceColor">#FFFFFF</Color>
  <Color x:Key="BorderColor">#FFE0E0E0</Color>
  
  <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource PrimaryColor}"/>
  <SolidColorBrush x:Key="SecondaryBrush" Color="{StaticResource SecondaryColor}"/>
  <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource SurfaceColor}"/>
  <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource BorderColor}"/>
  <SolidColorBrush x:Key="BackgroundBrush" Color="#FFFAFAFA"/>
  <SolidColorBrush x:Key="TextOnPrimaryBrush" Color="White"/>
  <SolidColorBrush x:Key="PrimaryLightBrush" Color="#FF64B5F6"/>
  
  <!-- ===== TYPOGRAPHY ===== -->
  <system:Double x:Key="FontSizeSmall" xmlns:system="clr-namespace:System;assembly=mscorlib">12</system:Double>
  <system:Double x:Key="FontSizeNormal" xmlns:system="clr-namespace:System;assembly=mscorlib">14</system:Double>
  <system:Double x:Key="FontSizeLarge" xmlns:system="clr-namespace:System;assembly=mscorlib">16</system:Double>
  <system:Double x:Key="FontSizeHeading" xmlns:system="clr-namespace:System;assembly=mscorlib">18</system:Double>
  
  <!-- ===== SPACING ===== -->
  <Thickness x:Key="SmallMargin">5</Thickness>
  <Thickness x:Key="NormalMargin">10</Thickness>
  <Thickness x:Key="LargeMargin">15</Thickness>
  <Thickness x:Key="SmallPadding">8</Thickness>
  <Thickness x:Key="NormalPadding">12</Thickness>
  <Thickness x:Key="LargePadding">16</Thickness>
  
  <!-- ===== ICONS ===== -->
  <!-- MenuIcon: أيقونة القائمة الرئيسية -->
  <DrawingImage x:Key="MenuIcon">
    <DrawingImage.Drawing>
      <GeometryDrawing Brush="{DynamicResource MasterTextPrimaryBrush}"
                       Geometry="M3,6 H21 M3,12 H21 M3,18 H21"/>
    </DrawingImage.Drawing>
  </DrawingImage>
  
  <!-- تصحيح الخطأ الإملائي الشائع "Menulcon" -->
  <DrawingImage x:Key="Menulcon">
    <DrawingImage.Drawing>
      <GeometryDrawing Brush="{DynamicResource MasterTextPrimaryBrush}"
                       Geometry="M3,6 H21 M3,12 H21 M3,18 H21"/>
    </DrawingImage.Drawing>
  </DrawingImage>
  
  <!-- ===== TEXT STYLES ===== -->
  <!-- HeaderTextBlock: للعناوين الرئيسية -->
  <Style x:Key="HeaderTextBlock" TargetType="TextBlock">
    <Setter Property="Foreground" Value="{DynamicResource MasterPrimaryBrush}"/>
    <Setter Property="FontWeight" Value="SemiBold"/>
    <Setter Property="FontSize" Value="{StaticResource FontSizeLarge}"/>
    <Setter Property="TextWrapping" Value="Wrap"/>
    <Setter Property="TextAlignment" Value="Right"/>
    <Setter Property="Margin" Value="{StaticResource SmallMargin}"/>
  </Style>
  
  <!-- SubHeaderTextBlock: للعناوين الفرعية -->
  <Style x:Key="SubHeaderTextBlock" TargetType="TextBlock">
    <Setter Property="Foreground" Value="{DynamicResource MasterTextPrimaryBrush}"/>
    <Setter Property="FontWeight" Value="Medium"/>
    <Setter Property="FontSize" Value="{StaticResource FontSizeNormal}"/>
    <Setter Property="TextWrapping" Value="Wrap"/>
    <Setter Property="TextAlignment" Value="Right"/>
    <Setter Property="Margin" Value="{StaticResource SmallMargin}"/>
  </Style>
  
  <!-- BodyTextBlock: للنصوص العادية -->
  <Style x:Key="BodyTextBlock" TargetType="TextBlock">
    <Setter Property="Foreground" Value="{DynamicResource MasterTextPrimaryBrush}"/>
    <Setter Property="FontWeight" Value="Normal"/>
    <Setter Property="FontSize" Value="{StaticResource FontSizeNormal}"/>
    <Setter Property="TextWrapping" Value="Wrap"/>
    <Setter Property="TextAlignment" Value="Right"/>
  </Style>
  
  <!-- Aliases للتوافق مع الأسماء القديمة -->
  <Style x:Key="SubheaderTextBlock" TargetType="TextBlock" BasedOn="{StaticResource SubHeaderTextBlock}"/>
  <Style x:Key="BodyText" TargetType="TextBlock" BasedOn="{StaticResource BodyTextBlock}"/>
  
  <!-- ===== CARD STYLES ===== -->
  <!-- StandardCard: البطاقة الأساسية -->
  <Style x:Key="StandardCard" TargetType="Border">
    <Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
    <Setter Property="CornerRadius" Value="8"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="Padding" Value="{StaticResource NormalPadding}"/>
    <Setter Property="Margin" Value="{StaticResource SmallMargin}"/>
    <Setter Property="Effect">
      <Setter.Value>
        <DropShadowEffect Color="Black" Opacity="0.1" BlurRadius="4" ShadowDepth="2" Direction="270"/>
      </Setter.Value>
    </Setter>
  </Style>
  
  <!-- Card: اسم مختصر للبطاقة -->
  <Style x:Key="Card" TargetType="Border" BasedOn="{StaticResource StandardCard}"/>
  
  <!-- ===== BUTTON STYLES ===== -->
  <!-- ButtonStyle: الزر الأساسي -->
  <Style x:Key="ButtonStyle" TargetType="Button">
    <Setter Property="Foreground" Value="White"/>
    <Setter Property="Background" Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="Padding" Value="{StaticResource NormalPadding}"/>
    <Setter Property="BorderThickness" Value="0"/>
    <Setter Property="Cursor" Value="Hand"/>
    <Setter Property="FontWeight" Value="Medium"/>
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Button">
          <Border x:Name="border" 
                  Background="{TemplateBinding Background}" 
                  CornerRadius="6"
                  Padding="{TemplateBinding Padding}">
            <ContentPresenter HorizontalAlignment="Center" 
                              VerticalAlignment="Center"
                              RecognizesAccessKey="True"/>
          </Border>
          <ControlTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
              <Setter TargetName="border" Property="Opacity" Value="0.9"/>
            </Trigger>
            <Trigger Property="IsPressed" Value="True">
              <Setter TargetName="border" Property="Opacity" Value="0.8"/>
            </Trigger>
            <Trigger Property="IsEnabled" Value="False">
              <Setter TargetName="border" Property="Opacity" Value="0.5"/>
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  
  <!-- PrimaryButton: زر أساسي -->
  <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ButtonStyle}"/>
  
  <!-- ModernButtonStyle: زر حديث -->
  <Style x:Key="ModernButtonStyle" TargetType="Button" BasedOn="{StaticResource ButtonStyle}"/>
  
  <!-- ===== LAYOUT STYLES ===== -->
  <!-- TitleBarLayout: تخطيط شريط العنوان -->
  <Style x:Key="TitleBarLayout" TargetType="Border">
    <Setter Property="Background" Value="{DynamicResource PrimaryBrush}"/>
    <Setter Property="Padding" Value="{StaticResource LargePadding}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness" Value="0,0,0,1"/>
    <Setter Property="Height" Value="60"/>
  </Style>
  
  <!-- ===== DATA GRID STYLES ===== -->
  <!-- StandardDataGrid: جدول البيانات الأساسي -->
  <Style x:Key="StandardDataGrid" TargetType="DataGrid">
    <Setter Property="Background" Value="{DynamicResource SurfaceBrush}"/>
    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
    <Setter Property="BorderThickness" Value="1"/>
    <Setter Property="GridLinesVisibility" Value="Horizontal"/>
    <Setter Property="HorizontalGridLinesBrush" Value="{DynamicResource BorderBrush}"/>
    <Setter Property="AutoGenerateColumns" Value="False"/>
    <Setter Property="CanUserAddRows" Value="False"/>
    <Setter Property="CanUserDeleteRows" Value="False"/>
    <Setter Property="CanUserResizeRows" Value="False"/>
    <Setter Property="SelectionMode" Value="Single"/>
    <Setter Property="SelectionUnit" Value="FullRow"/>
    <Setter Property="HeadersVisibility" Value="Column"/>
    <Setter Property="AlternatingRowBackground" Value="#FFF8F9FA"/>
  </Style>

</ResourceDictionary>