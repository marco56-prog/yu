<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <!-- =====================================================
         📦 MASTER SAFE RESOURCES - الموارد الآمنة الرئيسية
         - بلا تعارضات أو مفاتيح مكررة
         - أسماء فريدة وواضحة
         - محسّن للأداء والاستقرار
         ===================================================== -->



    <!-- ===================== CORE COLORS - الألوان الأساسية ===================== -->
    
    <!-- Primary Colors -->
    <Color x:Key="MasterPrimaryColor">#FF1565C0</Color>
    <Color x:Key="MasterPrimaryDarkColor">#FF0D47A1</Color>
    <Color x:Key="MasterPrimaryLightColor">#FF64B5F6</Color>
    <Color x:Key="MasterAccentColor">#FF1976D2</Color>

    <!-- Surface Colors -->
    <Color x:Key="MasterBackgroundColor">#FFF6F7FB</Color>
    <Color x:Key="MasterSurfaceColor">#FFFFFF</Color>
    <Color x:Key="MasterBorderColor">#22000000</Color>

    <!-- Text Colors -->
    <Color x:Key="MasterTextPrimaryColor">#FF212121</Color>
    <Color x:Key="MasterTextSecondaryColor">#FF757575</Color>
    <Color x:Key="MasterTextOnPrimaryColor">#FFFFFF</Color>
    <Color x:Key="MasterTextMutedColor">#7F000000</Color>

    <!-- Status Colors -->
    <Color x:Key="MasterSuccessColor">#FF2E7D32</Color>
    <Color x:Key="MasterDangerColor">#FFC62828</Color>
    <Color x:Key="MasterWarningColor">#FFF57C00</Color>
    <Color x:Key="MasterInfoColor">#FF1565C0</Color>

    <!-- ===================== BRUSHES - الفرش ===================== -->
    
    <!-- Primary Brushes -->
    <SolidColorBrush x:Key="MasterPrimaryBrush" Color="{StaticResource MasterPrimaryColor}"/>
    <SolidColorBrush x:Key="MasterPrimaryDarkBrush" Color="{StaticResource MasterPrimaryDarkColor}"/>
    <SolidColorBrush x:Key="MasterPrimaryLightBrush" Color="{StaticResource MasterPrimaryLightColor}"/>
    <SolidColorBrush x:Key="MasterAccentBrush" Color="{StaticResource MasterAccentColor}"/>

    <!-- Surface Brushes -->
    <SolidColorBrush x:Key="MasterBackgroundBrush" Color="{StaticResource MasterBackgroundColor}"/>
    <SolidColorBrush x:Key="MasterSurfaceBrush" Color="{StaticResource MasterSurfaceColor}"/>
    <SolidColorBrush x:Key="MasterBorderBrush" Color="{StaticResource MasterBorderColor}"/>

    <!-- Text Brushes -->
    <SolidColorBrush x:Key="MasterTextPrimaryBrush" Color="{StaticResource MasterTextPrimaryColor}"/>
    <SolidColorBrush x:Key="MasterTextSecondaryBrush" Color="{StaticResource MasterTextSecondaryColor}"/>
    <SolidColorBrush x:Key="MasterTextOnPrimaryBrush" Color="{StaticResource MasterTextOnPrimaryColor}"/>
    <SolidColorBrush x:Key="MasterTextMutedBrush" Color="{StaticResource MasterTextMutedColor}"/>

    <!-- Status Brushes -->
    <SolidColorBrush x:Key="MasterSuccessBrush" Color="{StaticResource MasterSuccessColor}"/>
    <SolidColorBrush x:Key="MasterDangerBrush" Color="{StaticResource MasterDangerColor}"/>
    <SolidColorBrush x:Key="MasterWarningBrush" Color="{StaticResource MasterWarningColor}"/>
    <SolidColorBrush x:Key="MasterInfoBrush" Color="{StaticResource MasterInfoColor}"/>

    <!-- ===================== TYPOGRAPHY - الطباعة ===================== -->
    
    <FontFamily x:Key="MasterPrimaryFont">Segoe UI, Tahoma, Arial, sans-serif</FontFamily>
    <FontFamily x:Key="MasterSecondaryFont">Calibri, Arial, sans-serif</FontFamily>
    
    <!-- Font Sizes -->
    <sys:Double x:Key="MasterFontSizeXS">11</sys:Double>
    <sys:Double x:Key="MasterFontSizeSmall">12</sys:Double>
    <sys:Double x:Key="MasterFontSizeNormal">13</sys:Double>
    <sys:Double x:Key="MasterFontSizeLarge">14</sys:Double>
    <sys:Double x:Key="MasterFontSizeXL">16</sys:Double>
    <sys:Double x:Key="MasterFontSizeHeading">18</sys:Double>
    <sys:Double x:Key="MasterFontSizeTitle">20</sys:Double>

    <!-- ===================== SPACING - المسافات ===================== -->
    
    <Thickness x:Key="MasterPaddingXS">4,2,4,2</Thickness>
    <Thickness x:Key="MasterPaddingSmall">6,4,6,4</Thickness>
    <Thickness x:Key="MasterPaddingNormal">10,6,10,6</Thickness>
    <Thickness x:Key="MasterPaddingLarge">14,10,14,10</Thickness>
    <Thickness x:Key="MasterPaddingXL">20,14,20,14</Thickness>

    <Thickness x:Key="MasterMarginXS">2</Thickness>
    <Thickness x:Key="MasterMarginSmall">4</Thickness>
    <Thickness x:Key="MasterMarginNormal">8</Thickness>
    <Thickness x:Key="MasterMarginLarge">12</Thickness>
    <Thickness x:Key="MasterMarginXL">16</Thickness>

    <!-- ===================== BUTTON STYLES - أنماط الأزرار ===================== -->

    <!-- 🔵 Primary Button - الزر الأساسي -->
    <Style x:Key="SafePrimaryButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextOnPrimaryBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingNormal}"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" 
                            Background="{TemplateBinding Background}"
                            CornerRadius="6"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter x:Name="contentPresenter"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        RecognizesAccessKey="True"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryDarkBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterAccentBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterTextMutedBrush}"/>
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ⚪ Secondary Button - الزر الثانوي -->
    <Style x:Key="SafeSecondaryButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingNormal}"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" 
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="6"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter x:Name="contentPresenter"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        RecognizesAccessKey="True"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryLightBrush}"/>
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource MasterPrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource MasterTextOnPrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 🟢 Success Button - زر النجاح -->
    <Style x:Key="SafeSuccessButton" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}">
        <Setter Property="Background" Value="{StaticResource MasterSuccessBrush}"/>
    </Style>

    <!-- 🔴 Danger Button - زر الخطر -->
    <Style x:Key="SafeDangerButton" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}">
        <Setter Property="Background" Value="{StaticResource MasterDangerBrush}"/>
    </Style>

    <!-- 🟠 Warning Button - زر التحذير -->
    <Style x:Key="SafeWarningButton" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}">
        <Setter Property="Background" Value="{StaticResource MasterWarningBrush}"/>
    </Style>

    <!-- 🔵 Info Button - زر المعلومات -->
    <Style x:Key="SafeInfoButton" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}">
        <Setter Property="Background" Value="{StaticResource MasterInfoBrush}"/>
    </Style>

    <!-- 📋 Sidebar Button - زر الشريط الجانبي -->
    <Style x:Key="SafeSidebarButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingLarge}"/>
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="HorizontalContentAlignment" Value="Right"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Margin" Value="0,2"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" 
                            Background="{TemplateBinding Background}"
                            CornerRadius="4"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter x:Name="contentPresenter"
                                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        VerticalAlignment="Center"
                                        RecognizesAccessKey="True"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryLightBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource MasterTextOnPrimaryBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- 🛍️ Product Button - زر المنتج -->
    <Style x:Key="SafeProductButton" TargetType="Button">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="15,8"/>
        <Setter Property="Margin" Value="5"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeLarge}"/>
        <Setter Property="FontWeight" Value="Medium"/>
        <Setter Property="FlowDirection" Value="RightToLeft"/>
        <Setter Property="HorizontalContentAlignment" Value="Center"/>
        <Setter Property="VerticalContentAlignment" Value="Center"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8"
                            Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource MasterTextOnPrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="border" Property="Background" Value="{StaticResource MasterAccentBrush}"/>
                            <Setter Property="Foreground" Value="{StaticResource MasterTextOnPrimaryBrush}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ⚡ Quick Action Button - زر العمل السريع -->
    <Style x:Key="SafeQuickActionButton" TargetType="Button" BasedOn="{StaticResource SafeSecondaryButton}">
        <Setter Property="Padding" Value="{StaticResource MasterPaddingSmall}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeSmall}"/>
    </Style>

    <!-- ===================== TEXT STYLES - أنماط النصوص ===================== -->

    <Style x:Key="SafeBodyText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
        <Setter Property="TextWrapping" Value="Wrap"/>
    </Style>

    <Style x:Key="SafeHeaderText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeHeading}"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
    </Style>

    <Style x:Key="SafeTitleText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeTitle}"/>
        <Setter Property="FontWeight" Value="Bold"/>
        <Setter Property="Foreground" Value="{StaticResource MasterPrimaryBrush}"/>
    </Style>

    <Style x:Key="SafeSecondaryText" TargetType="TextBlock">
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeSmall}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextSecondaryBrush}"/>
    </Style>

    <!-- ===================== ICONS - الأيقونات ===================== -->
    <sys:String x:Key="MenuIcon">☰</sys:String>
    
    <!-- ===================== LAYOUT STYLES - أنماط التخطيط ===================== -->
    <Style x:Key="TitleBarLayout" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingLarge}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
    </Style>
    
    <!-- ===================== CONTAINERS - الحاويات ===================== -->

    <Style x:Key="SafeCard" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingLarge}"/>
        <Setter Property="Margin" Value="{StaticResource MasterMarginNormal}"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Effect">
            <Setter.Value>
                <DropShadowEffect Color="Black" Opacity="0.1" BlurRadius="4" ShadowDepth="2" Direction="270"/>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="SafeDashboardCard" TargetType="Border" BasedOn="{StaticResource SafeCard}">
        <Setter Property="Width" Value="220"/>
        <Setter Property="Height" Value="140"/>
        <Setter Property="Margin" Value="5"/>
    </Style>

    <!-- ===================== TEXTBOX STYLES - أنماط صناديق النص ===================== -->

    <Style x:Key="SafeTextBox" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Padding" Value="8,6"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TextBox">
                    <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4"
                            Padding="{TemplateBinding Padding}">
                        <ScrollViewer x:Name="PART_ContentHost" 
                                    VerticalScrollBarVisibility="Hidden" 
                                    HorizontalScrollBarVisibility="Hidden"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsFocused" Value="True">
                            <Setter TargetName="border" Property="BorderBrush" Value="{StaticResource MasterPrimaryBrush}"/>
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="False">
                            <Setter TargetName="border" Property="Opacity" Value="0.6"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- ===================== WINDOW STYLES - أنماط النوافذ ===================== -->

    <Style x:Key="SafeWindow" TargetType="Window">
        <Setter Property="Background" Value="{StaticResource MasterBackgroundBrush}"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="TextOptions.TextFormattingMode" Value="Display"/>
        <Setter Property="FlowDirection" Value="RightToLeft"/>
        <Setter Property="WindowStartupLocation" Value="CenterScreen"/>
    </Style>

    <!-- ===================== LEGACY COMPATIBILITY - توافق مع الكود القديم ===================== -->
    
    <!-- توفير أسماء مستعارة للكود القديم لتجنب كسر التطبيق -->
    <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}"/>
    <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource SafeSecondaryButton}"/>
    <Style x:Key="SidebarButton" TargetType="Button" BasedOn="{StaticResource SafeSidebarButton}"/>
    <Style x:Key="ProductButtonStyle" TargetType="Button" BasedOn="{StaticResource SafeProductButton}"/>
    <Style x:Key="QuickActionButton" TargetType="Button" BasedOn="{StaticResource SafeQuickActionButton}"/>
    <Style x:Key="ModernButtonStyle" TargetType="Button" BasedOn="{StaticResource SafePrimaryButton}"/>
    
    <!-- ===================== EXPANDER STYLES - أنماط الموسع ===================== -->

    <Style x:Key="SafeExpander" TargetType="Expander">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Margin" Value="0,4"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingNormal}"/>
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextPrimaryBrush}"/>
    </Style>

    <!-- إضافة فرش وستايلات للتوافق مع الكود القديم -->
    <SolidColorBrush x:Key="PrimaryBrush" Color="{StaticResource MasterPrimaryColor}"/>
    <SolidColorBrush x:Key="BackgroundBrush" Color="{StaticResource MasterBackgroundColor}"/>
    <SolidColorBrush x:Key="SurfaceBrush" Color="{StaticResource MasterSurfaceColor}"/>
    <SolidColorBrush x:Key="BorderBrush" Color="{StaticResource MasterBorderColor}"/>
    <SolidColorBrush x:Key="TextPrimaryBrush" Color="{StaticResource MasterTextPrimaryColor}"/>
    <SolidColorBrush x:Key="TextSecondaryBrush" Color="{StaticResource MasterTextSecondaryColor}"/>
    
    <!-- إضافة ستايلات إضافية للتوافق -->
    <Style x:Key="ModernExpander" TargetType="Expander" BasedOn="{StaticResource SafeExpander}"/>
    <Style x:Key="BodyTextBlock" TargetType="TextBlock" BasedOn="{StaticResource SafeBodyText}"/>
    
    <!-- إضافة موارد المسافات للتوافق -->
    <Thickness x:Key="SmallMargin">4,2</Thickness>
    <Thickness x:Key="MediumMargin">8,4</Thickness>
    <Thickness x:Key="LargeMargin">12,6</Thickness>
    
    <!-- إضافة أحجام خطوط للتوافق -->
    <sys:Double x:Key="FontSizeBody">13</sys:Double>
    <FontFamily x:Key="PrimaryFont">Segoe UI, Tahoma, Arial</FontFamily>

    <!-- ===================== WINDOW STYLES - أنماط النوافذ ===================== -->
    
    <!-- 🪟 Standard Window Style - نمط النافذة القياسي -->
    <Style x:Key="StandardWindow" TargetType="Window">
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="WindowStartupLocation" Value="CenterScreen"/>
        <Setter Property="FlowDirection" Value="RightToLeft"/>
    </Style>

    <!-- ==================== MISSING RESOURCES FOR MAINWINDOW ==================== -->
    
    <!-- Sidebar Button -->
    <Style x:Key="SidebarButton" TargetType="Button" BasedOn="{StaticResource SafeSecondaryButton}">
        <Setter Property="HorizontalAlignment" Value="Stretch"/>
        <Setter Property="Margin" Value="5,2"/>
        <Setter Property="Padding" Value="15,8"/>
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextBrush}"/>
        <Setter Property="BorderThickness" Value="0"/>
    </Style>
    
    <!-- Status Bar Style -->
    <Style x:Key="StatusBarStyle" TargetType="StatusBar">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextBrush}"/>
        <Setter Property="BorderThickness" Value="0,1,0,0"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
    </Style>
    
    <!-- Content Header Style -->
    <Style x:Key="ContentHeaderStyle" TargetType="TextBlock">
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeHeading}"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextBrush}"/>
        <Setter Property="Margin" Value="0,0,0,15"/>
    </Style>
    
    <!-- Main Content Border -->
    <Style x:Key="MainContentBorder" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterBackgroundBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="CornerRadius" Value="8"/>
        <Setter Property="Padding" Value="20"/>
    </Style>
    
    <!-- Search Box Style -->
    <Style x:Key="SearchBox" TargetType="TextBox">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="Padding" Value="10,8"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
    </Style>

    <!-- ==================== MAINWINDOW SPECIFIC RESOURCES ==================== -->
    
    <!-- StandardWindow (المورد الأساسي المفقود) -->
    <Style x:Key="StandardWindow" TargetType="Window">
        <Setter Property="FontFamily" Value="{StaticResource MasterPrimaryFont}"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Background" Value="{StaticResource MasterBackgroundBrush}"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="WindowStartupLocation" Value="CenterScreen"/>
        <Setter Property="FlowDirection" Value="RightToLeft"/>
    </Style>
    
    <!-- TitleBar Layout -->
    <Style x:Key="TitleBarLayout" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Height" Value="40"/>
        <Setter Property="Padding" Value="10,0"/>
    </Style>
    
    <!-- Outlined Button -->
    <Style x:Key="OutlinedButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterTextBrush}"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="FontSize" Value="{StaticResource MasterFontSizeNormal}"/>
        <Setter Property="Cursor" Value="Hand"/>
    </Style>
    
    <!-- Search Bar -->
    <Style x:Key="SearchBar" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterSurfaceBrush}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="CornerRadius" Value="6"/>
        <Setter Property="Padding" Value="10,8"/>
    </Style>
    
    <!-- Additional Colors and Brushes -->
    <SolidColorBrush x:Key="TextOnPrimaryBrush" Color="White"/>
    <SolidColorBrush x:Key="PrimaryDarkBrush" Color="{StaticResource MasterPrimaryDarkColor}"/>
    <SolidColorBrush x:Key="PrimaryLightBrush" Color="{StaticResource MasterPrimaryLightColor}"/>
    
    <!-- Font Sizes -->
    <sys:Double x:Key="FontSizeDisplay">24</sys:Double>
    <sys:Double x:Key="FontSizeCaption">11</sys:Double>
    <sys:Double x:Key="FontSizeHeading">18</sys:Double>
    
    <!-- Icons -->
    <sys:String x:Key="MenuIcon">☰</sys:String>
    
    <!-- Button Styles -->
    <Style x:Key="OutlinedButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
                            <Setter Property="Foreground" Value="White"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <!-- Layout Styles -->
    <Style x:Key="TitleBarLayout" TargetType="Border">
        <Setter Property="Background" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Padding" Value="{StaticResource MasterPaddingLarge}"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterBorderBrush}"/>
        <Setter Property="BorderThickness" Value="0,0,0,1"/>
    </Style>
    
    <!-- Window Styles -->
    <Style x:Key="StandardWindow" TargetType="Window">
        <Setter Property="Background" Value="White"/>
        <Setter Property="Foreground" Value="Black"/>
        <Setter Property="FontFamily" Value="Segoe UI"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="UseLayoutRounding" Value="True"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="ResizeMode" Value="CanResize"/>
        <Setter Property="WindowStyle" Value="SingleBorderWindow"/>
    </Style>
    
    <!-- Margins and Padding -->
    <Thickness x:Key="ExtraLargeMargin">20,12</Thickness>
    <Thickness x:Key="SmallPadding">6,4</Thickness>
    
    <!-- Icons -->
    <sys:String x:Key="MenuIcon">☰</sys:String>
    
    <!-- Button Styles -->
    <Style x:Key="OutlinedButton" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="BorderBrush" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Foreground" Value="{StaticResource MasterPrimaryBrush}"/>
        <Setter Property="Padding" Value="8,4"/>
        <Setter Property="Cursor" Value="Hand"/>
    </Style>
    
    <!-- ==================== ADDITIONAL MISSING RESOURCES ==================== -->
    
    <!-- Additional Padding and Margins -->
    <Thickness x:Key="SmallPadding">6,4</Thickness>
    <Thickness x:Key="MediumPadding">12,8</Thickness>
    <Thickness x:Key="LargePadding">16,12</Thickness>
    <Thickness x:Key="SmallMargin">6,4</Thickness>
    <Thickness x:Key="LargeMargin">16,8</Thickness>
    
    <!-- Additional Colors -->
    <Color x:Key="MasterPrimaryDarkColor">#FF1565C0</Color>
    <Color x:Key="MasterPrimaryLightColor">#FF90CAF9</Color>
    
    <!-- Additional Brushes -->
    <SolidColorBrush x:Key="PrimaryDarkBrush" Color="{StaticResource MasterPrimaryDarkColor}"/>
    <SolidColorBrush x:Key="PrimaryLightBrush" Color="{StaticResource MasterPrimaryLightColor}"/>
    
    <!-- Default Window Style -->
    <Style TargetType="Window" BasedOn="{StaticResource StandardWindow}"/>

</ResourceDictionary>