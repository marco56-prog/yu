<Window x:Class="AccountingSystem.WPF.Views.BankAccountsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="إدارة الحسابات البنكية" 
        Height="600" Width="800"
        Style="{StaticResource StandardWindow}"
        WindowState="Maximized">
    
    <Grid Style="{StaticResource MainWindowLayout}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- شريط العنوان -->
        <Border Grid.Row="0" Style="{StaticResource TitleBarLayout}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="{StaticResource BankIcon}" 
                           FontSize="24" 
                           VerticalAlignment="Center" 
                           Margin="{StaticResource SmallMargin}"/>
                <TextBlock Text="إدارة الحسابات البنكية" 
                           Style="{StaticResource HeaderTextBlock}"
                           Foreground="{StaticResource TextOnPrimaryBrush}"/>
            </StackPanel>
        </Border>

        <!-- شريط التحكم -->
        <Border Grid.Row="1" Style="{StaticResource StandardCard}" Margin="{StaticResource MediumMargin}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- الأزرار -->
                <StackPanel Grid.Column="0" Style="{StaticResource HorizontalButtonGroup}">
                    <Button Name="btnAddAccount" 
                            Style="{StaticResource PrimaryButton}" 
                            Click="btnNewBankAccount_Click">
                        <StackPanel Orientation="Horizontal">
                            <ContentPresenter Content="{StaticResource AddIcon}" Margin="0,0,5,0"/>
                            <TextBlock Text="إضافة حساب جديد"/>
                        </StackPanel>
                    </Button>
                    <Button Name="btnEditAccount" 
                            Style="{StaticResource SuccessButton}">
                        <StackPanel Orientation="Horizontal">
                            <ContentPresenter Content="{StaticResource EditIcon}" Margin="0,0,5,0"/>
                            <TextBlock Text="تعديل حساب"/>
                        </StackPanel>
                    </Button>
                    <Button Name="btnDeleteAccount" 
                            Style="{StaticResource DangerButton}">
                        <StackPanel Orientation="Horizontal">
                            <ContentPresenter Content="{StaticResource DeleteIcon}" Margin="0,0,5,0"/>
                            <TextBlock Text="حذف حساب"/>
                        </StackPanel>
                    </Button>
                    <Button Name="btnBankTransfer" 
                            Style="{StaticResource WarningButton}">
                        <StackPanel Orientation="Horizontal">
                            <ContentPresenter Content="{StaticResource TransferIcon}" Margin="0,0,5,0"/>
                            <TextBlock Text="تحويل بنكي"/>
                        </StackPanel>
                    </Button>
                            Click="btnBankTransfer_Click"/>
                </StackPanel>
                
                <!-- شريط البحث والفلترة -->
                <StackPanel Grid.Column="1" Style="{StaticResource FilterContainer}">
                    <StackPanel Style="{StaticResource FilterGroup}">
                        <Border Style="{StaticResource SearchBar}">
                            <TextBox Name="txtSearch" 
                                     Width="220" 
                                     Background="Transparent"
                                     BorderThickness="0"/>
                        </Border>
                    </StackPanel>
                    
                    <StackPanel Style="{StaticResource FilterGroup}">
                        <ComboBox Name="cmbBankFilter" 
                                  Width="180" 
                                  Style="{StaticResource StandardComboBox}">
                            <ComboBoxItem Content="جميع البنوك" IsSelected="True"/>
                            <ComboBoxItem Content="البنك الأهلي"/>
                            <ComboBoxItem Content="البنك العربي"/>
                            <ComboBoxItem Content="بنك فلسطين"/>
                            <ComboBoxItem Content="بنك القدس"/>
                        </ComboBox>
                    </StackPanel>
                    
                    <Button Name="btnSearch" 
                            Content="{StaticResource SearchIcon}" 
                            Style="{StaticResource SecondaryButton}" 
                            Click="btnSearch_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Data Grid -->
        <DataGrid Grid.Row="1" Name="dgBankAccounts" 
                  AutoGenerateColumns="False" 
                  IsReadOnly="True"
                  GridLinesVisibility="All"
                  CanUserAddRows="False"
                  SelectionMode="Single"
                  Background="White">
            <DataGrid.Columns>
                <DataGridTextColumn Header="رقم الحساب" Binding="{Binding AccountNumber}" Width="150"/>
                <DataGridTextColumn Header="اسم البنك" Binding="{Binding BankName}" Width="200"/>
                <DataGridTextColumn Header="اسم الحساب" Binding="{Binding AccountName}" Width="200"/>
                <DataGridTextColumn Header="نوع الحساب" Binding="{Binding AccountType}" Width="120"/>
                <DataGridTextColumn Header="الرصيد" Binding="{Binding Balance, StringFormat='N2'}" Width="150"/>
                <DataGridCheckBoxColumn Header="نشط" Binding="{Binding IsActive}" Width="80"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Status Bar -->
        <StatusBar Grid.Row="2" Height="25" Background="{DynamicResource BackgroundBrush}">
            <StatusBarItem>
                <TextBlock Name="txtStatus" Text="جاهز" />
            </StatusBarItem>
        </StatusBar>

        <!-- No data panel -->
        <Border x:Name="pnlNoData" Grid.Row="1" Background="{DynamicResource SurfaceBrush}" BorderBrush="{DynamicResource BorderBrush}" BorderThickness="1" CornerRadius="6" Padding="20" Visibility="Collapsed">
            <TextBlock Text="لا توجد بيانات للعرض" Foreground="{DynamicResource MutedBrush}" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Border>
    </Grid>
</Window>
