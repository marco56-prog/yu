<Window x:Class="AccountingSystem.WPF.Views.UnitsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="إدارة الوحدات" 
        Height="500" Width="600" 
        Style="{StaticResource StandardWindow}"
        WindowState="Maximized">

    <Grid Style="{StaticResource MainWindowLayout}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- شريط العنوان -->
        <Border Grid.Row="0" Style="{StaticResource TitleBarLayout}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <TextBlock Text="{StaticResource UnitsIcon}" 
                           FontSize="24" 
                           VerticalAlignment="Center" 
                           Margin="{StaticResource SmallMargin}"/>
                <TextBlock Text="إدارة وحدات القياس" 
                           Style="{StaticResource HeaderTextBlock}"
                           Foreground="{StaticResource TextOnPrimaryBrush}"/>
            </StackPanel>
        </Border>

        <!-- شريط التحكم -->
        <Border Grid.Row="1" Style="{StaticResource StandardCard}" Margin="{StaticResource MediumMargin}">
            <StackPanel Style="{StaticResource HorizontalButtonGroup}">
                <Button Name="btnAdd" 
                        Style="{StaticResource PrimaryButton}" 
                        Click="btnAdd_Click">
                    <StackPanel Orientation="Horizontal">
                        <ContentPresenter Content="{StaticResource AddIcon}" Margin="0,0,5,0"/>
                        <TextBlock Text="إضافة وحدة جديدة"/>
                    </StackPanel>
                </Button>
                <Button Name="btnEdit" 
                        Style="{StaticResource SecondaryButton}" 
                        Click="btnEdit_Click">
                    <StackPanel Orientation="Horizontal">
                        <ContentPresenter Content="{StaticResource EditIcon}" Margin="0,0,5,0"/>
                        <TextBlock Text="تعديل"/>
                    </StackPanel>
                </Button>
                <Button Name="btnDelete" 
                        Style="{StaticResource DangerButton}" 
                        Click="btnDelete_Click">
                    <StackPanel Orientation="Horizontal">
                        <ContentPresenter Content="{StaticResource DeleteIcon}" Margin="0,0,5,0"/>
                        <TextBlock Text="حذف"/>
                    </StackPanel>
                </Button>
                <Button Name="btnRefresh" 
                        Style="{StaticResource SecondaryButton}" 
                        Click="btnRefresh_Click">
                    <StackPanel Orientation="Horizontal">
                        <ContentPresenter Content="{StaticResource RefreshIcon}" Margin="0,0,5,0"/>
                        <TextBlock Text="تحديث"/>
                    </StackPanel>
                </Button>
            </StackPanel>
        </Border>

        <!-- جدول الوحدات -->
        <DataGrid Grid.Row="2" Name="dgUnits" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False"
                  GridLinesVisibility="Horizontal"
                  HeadersVisibility="Column"
                  SelectionMode="Single"
                  Margin="10">
            <DataGrid.Columns>
                <DataGridTextColumn Header="رقم الوحدة" Binding="{Binding UnitId}" Width="80" IsReadOnly="True"/>
                <DataGridTextColumn Header="اسم الوحدة" Binding="{Binding UnitName}" Width="*" IsReadOnly="True"/>
                <DataGridTextColumn Header="الرمز" Binding="{Binding UnitSymbol}" Width="100" IsReadOnly="True"/>
                <DataGridCheckBoxColumn Header="نشطة" Binding="{Binding IsActive}" Width="60" IsReadOnly="True"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- شريط الحالة -->
        <StatusBar Grid.Row="3">
            <StatusBarItem>
                <TextBlock Name="lblStatus" Text="جاهز"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock Name="lblCount" Text="عدد الوحدات: 0"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
